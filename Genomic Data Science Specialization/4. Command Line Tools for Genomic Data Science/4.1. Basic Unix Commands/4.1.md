# 1. Basic Unix Commands

## Data Provided

- Gene annotation files
    - apple.genes
    - apple.conditionA
    - apple.conditionB
    - apple.conditionC
- FASTA
    - apple.genome

## Instructions

For all projects, you may use your own Unix-based system and, where applicable, ensure that you are running the version of the software specified in the assignments. Alternatively, you may use the VMBox virtual machine environment (***Docker instead for MacOS with M1 or M2 chips) provided with the course materials. Instructions on how to download and use the environment can be found on the course web site. 

For the following questions, refer to the class workflow and use the data in the Online materials (‘gencommand_proj1_data.tar.gz’) to answer the questions. Assume you sequenced and assembled the genome of Malus domestica (apple), and performed gene annotation. You then collected samples and ran RNA-seq experiments to determine sets of genes that are expressed in the various tissues. This information was stored, respectively, in the following files: “apple.genome”, “apple.genes”, “apple.condition{A,B,C}”. 

NOTE: The apple genome and the apple gene annotations for this project were extracted from the Rosaceae Genome Database (RGD). Actual data have then been modified, and hence may not directly reflect the information in the original RGD records.

## File Setup

### Direct to Project Folder

```bash
cd 1
```

### Extract files

```bash
gunzip gencommand_proj1_data.tar.gz
tar -xf gencommand_proj1_data.tar
```

### Direct to gencommand_proj1_data folder

```bash
cd gencommand_proj1_data
ls
```

## Questions

### Question 1: How many chromosomes are there in the genome?

```bash
grep -c ">" apple.genome

3
```

### Question 2: How many genes?

```bash
cut -f1 apple.genes | sort -u | wc -l

5453
```

### Question 3: How many transcript variants?

```bash
\[guest\@centos6 gencommand_proj1_data\]\$ cut -f2 apple.genes \| sort -u \| wc -l

5456
```

### Question 4: How many genes have a single splice variant?

```bash
\[guest\@centos6 gencommand_proj1_data\]\$ cut -f1 apple.genes \| uniq
-c \| grep "1" \| wc -l

5450
```

### Question 5: How may genes have 2 or more splice variants?

```bash
cut -f1 apple.genes | sort | uniq -c | grep -v "1" | wc -l

6
```

### Question 6: How many genes are there on the '+' strand?

```bash
cut -f1,4 apple.genes | grep "+" | uniq | wc -l

2664
```

### Question 7: How many genes are there on the '-' strand?

```bash
cut -f1,4 apple.genes | grep"-" | uniq | wc -l

2792
```

### Question 8: How many genes are there on chromosome chr1?

```bash
cut -f1,3 apple.genes | grep "chr1" | uniq | wc -l

1624
```

### Question 9: How many genes are there on chromosome chr2?

```bash
cut -f1,3 apple.genes | grep "chr2" | uniq | wc -l

2058
```

### Question 10: How many genes are there on chromosome chr3?

```bash
cut -f1,3 apple.genes | grep "chr3" | uniq | wc -l

1771
```

### Question 11: How many transcripts are there on chr1?

```bash
cut -f2,3 apple.genes | grep "chr1" | uniq | wc -l

1625
```

### Question 12: How many transcripts are there on chr2?

```bash
cut -f2,3 apple.genes | grep "chr2" | uniq | wc -l

2059
```

### Question 13: How many transcripts are there on chr3?

```bash
cut -f2,3 apple.genes | grep "chr3" | uniq | wc -l

1772
```

### Question 14: How many genes are in common between condition A and condition B?

```bash
cut -f1 apple.conditionA | sort -u > apple.conditionA.sorted
cut -f1 apple.conditionB | sort -u > apple.conditionB.sorted
comm -1 -2 apple.conditionA.sorted | apple.conditionB.sorted | wc -l

2410
```

### Question 15: How many genes are exclusively specific to condition A?

```bash
comm -2 -3 apple.conditionA.sorted apple.conditionB.sorted | wc -l

1205
```

### Question 16: How many genes are specific to condition B?

```bash
comm -1 -3 apple.conditionA.sorted apple.conditionB.sorted | wc -l

1243
```

### Question 17: How many genes are in common to all three conditions?

```bash
cut -f1 apple.conditionC | sort -u > apple.conditionC.sorted
cat apple.condition{A,B,C}.sorted | sort | uniq -c | grep -c "3"

1608
```
